(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8081)}])},8081:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return B},default:function(){return H}});var n=r(5893),a=r(9008),i=r(7294),s=r(3153),l=r(3299),o=r(7539),c=r.n(o),u=["user-read-email","playlist-read-private","playlist-read-collaborative","streaming","user-read-private","user-library-read","user-top-read","user-read-playback-state","user-modify-playback-state","user-read-currently-playing","user-read-recently-played","user-follow-read"].join(","),d=(new URLSearchParams({scope:u}).toString(),new(c())({clientId:"a40d4180d92e438084e443d4047e417a",clientSecret:"7bdf335a5d89474b8b782ce25fe6a908"}));var f=function(){var e=(0,l.useSession)(),t=e.data;return e.status,(0,i.useEffect)((function(){t&&("RefreshAccessTokenError"===t.error&&(0,l.signIn)(),d.setAccessToken(t.user.accessToken))}),[t]),d},m=r(2804),h=(0,m.cn)({key:"playlistIdState",default:"37i9dQZEVXbMDoHDwVN2tF"}),v=(0,m.cn)({key:"playlistState",default:null});function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(o){l=!0,a=o}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(){var e=f(),t=(0,l.useSession)(),r=t.data,a=(t.status,(0,i.useState)([])),o=a[0],c=a[1],u=x((0,m.FV)(h),2),d=(u[0],u[1]);return(0,i.useEffect)((function(){e.getAccessToken()&&e.getUserPlaylists().then((function(e){c(e.body.items)}))}),[r,e]),(0,n.jsx)("div",{className:"text-gray-400 p-5 text-xs lg:text-sm border-r border-gray-400 overflow-y-scroll h-screen scrollbar-hide bg-black md:min-w-[30%] lg:min-w-[20rem] hidden md:inline-flex pb-36",children:(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("button",{className:"flex items-center space-x-1 hover:text-white",children:[(0,n.jsx)(s.tvw,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:"Inicio"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-1 hover:text-white",children:[(0,n.jsx)(s.W1M,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:"Buscar"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-1 hover:text-white",children:[(0,n.jsx)(s.VqP,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:"Tu biblioteca"})]}),(0,n.jsx)("hr",{className:"border-t-[0.1px] border-gray-400"}),(0,n.jsxs)("button",{className:"flex items-center space-x-1 hover:text-white",children:[(0,n.jsx)(s.wl8,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:"Crear Lista"})]}),(0,n.jsxs)("button",{onClick:function(){return d(null)},className:"flex items-center space-x-1 hover:text-white",children:[(0,n.jsx)(s.h_8,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:"Canciones que te gustan"})]}),(0,n.jsx)("hr",{className:"border-t-[0.1px] border-gray-400"}),o.map((function(e){return(0,n.jsx)("p",{onClick:function(){return d(e.id)},className:"cursor-pointer hover:text-white",children:e.name},e.id)}))]})})},b=r(6486),g=r.n(b),j=r(4051),w=r.n(j);function N(e){var t=Math.floor(e/6e4),r=(e%6e4/1e3).toFixed(0);return 60==r?t+1+":00":t+":"+(r<10?"0":"")+r}var k=(0,m.cn)({key:"currentTrackIdState",default:null}),S=(0,m.cn)({key:"isPlayingState",default:!1});function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C(e,t,r,n,a,i,s){try{var l=e[i](s),o=l.value}catch(c){return void r(c)}l.done?t(o):Promise.resolve(o).then(n,a)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(o){l=!0,a=o}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r(6300),r(2749);function I(e){var t,r="";for(t=0;t<e.length;t++)void 0!=e[t].name&&(r=r+" "+e[t].name,t+1<e.length&&(r+=","));return r}var E=function(e){var t=e.order,r=e.track,a=e.playlist,i=f(),s=_((0,m.FV)(k),2),l=(s[0],s[1]),o=_((0,m.FV)(S),2),c=(o[0],o[1]),u=function(){var e,n=(e=w().mark((function e(){var n;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l(r.track.id),c(!0),i.play({uris:[r.track.uri]}),n=t+1;n<a.tracks.items.length;n++)i.addToQueue(a.tracks.items[n].track.uri);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function s(e){C(i,n,a,s,l,"next",e)}function l(e){C(i,n,a,s,l,"throw",e)}s(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,n.jsxs)("div",{className:"grid grid-cols-2 text-gray-400 py-3 px-2 hover:bg-gray-600 rounded-lg cursor-pointer",onClick:u,children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4 ",children:[(0,n.jsx)("p",{children:t+1}),(0,n.jsx)("img",{className:"h-10 w-10",src:r.track.album.images[0].url}),(0,n.jsxs)("div",{className:"pr-1",children:[(0,n.jsx)("p",{className:"w-36 lg:w-64 truncate text-white ",children:r.track.name}),(0,n.jsx)("p",{className:"w=40 text-sm",children:I(r.track.artists)})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between ml-auto md:ml-0",children:[(0,n.jsx)("p",{className:"w-50 hidden md:inline",children:r.track.album.name}),(0,n.jsx)("p",{children:N(r.track.duration_ms)})]})]})};var T=function(){var e=(0,m.sJ)(v);return(0,n.jsx)("div",{className:"px-8 flex flex-col space-y-1 pb-28 text-white",children:null===e||void 0===e?void 0:e.tracks.items.map((function(t,r){return(0,n.jsx)(E,{track:t,order:r,playlist:e},t.track.id)}))})};function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(o){l=!0,a=o}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=["from-indigo-500","from-blue-500","from-green-500","from-red-500","from-yellow-500","from-pink-500","from-purple-500"];var V=function(){var e,t=(0,l.useSession)(),r=t.data,a=(t.status,f()),o=(0,i.useState)(null),c=o[0],u=o[1],d=M((0,m.FV)(h),2),y=d[0],x=(d[1],M((0,m.FV)(v),2)),p=x[0],g=x[1];return(0,i.useEffect)((function(){u((0,b.shuffle)(O).pop())}),[y]),(0,i.useEffect)((function(){a.getPlaylist(y).then((function(e){g(e.body)})).catch((function(e){return console.log("Error",e)}))}),[a,y]),(0,n.jsxs)("div",{className:"flex-grow h-screen overflow-y-scroll scrollbar-hide",children:[(0,n.jsx)("header",{className:"absolute top-5 right-8",children:(0,n.jsxs)("div",{className:"text-white flex item-center bg-black space-x-3 opacity-90 hover:opacity-70 cursor-pointer rounded-full p-1 pr-2 items-center",onClick:l.signOut,children:[(0,n.jsx)("img",{className:"rounded-full w-10 h-10",src:null===r||void 0===r?void 0:r.user.image,alt:""}),(0,n.jsx)("h2",{children:null===r||void 0===r?void 0:r.user.name}),(0,n.jsx)(s.R0g,{className:"h-5 w-5"})]})}),(0,n.jsxs)("section",{className:"flex items-end space-x-7 bg-gradient-to-b to-gray ".concat(c," h-80 text-white p-8"),children:[(0,n.jsx)("img",{className:"h-44 w-44 shadow-2xl md:w-52 md:h-52",src:null===p||void 0===p||null===(e=p.images)||void 0===e?void 0:e[0].url,alt:""}),(0,n.jsxs)("div",{className:"p-5 space-y-2",children:[(0,n.jsx)("h1",{className:"text-2xl md:text-3xl xl:text-5xl font-bold",children:null===p||void 0===p?void 0:p.name}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("p",{className:"hover:underline",children:null===p||void 0===p?void 0:p.owner.display_name}),(0,n.jsx)("p",{children:"|"}),(0,n.jsxs)("p",{children:[null===p||void 0===p?void 0:p.tracks.total," canciones"]})]})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(T,{})})]})};function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t,r,n,a,i,s){try{var l=e[i](s),o=l.value}catch(c){return void r(c)}l.done?t(o):Promise.resolve(o).then(n,a)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(o){l=!0,a=o}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(){var e=f(),t=$((0,m.FV)(k),2),r=t[0],n=(t[1],(0,i.useState)(null)),a=n[0],s=n[1];return(0,i.useEffect)((function(){var t=function(){var t,n=(t=w().mark((function t(){var n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,fetch("https://api.spotify.com/v1/tracks/".concat(r),{headers:{Authorization:"Bearer ".concat(e.getAccessToken())}}).then((function(e){return e.json()}));case 3:n=t.sent,s(n);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var i=t.apply(e,r);function s(e){U(i,n,a,s,l,"next",e)}function l(e){U(i,n,a,s,l,"throw",e)}s(void 0)}))});return function(){return n.apply(this,arguments)}}();t()}),[r,e]),a};function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],s=!0,l=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(o){l=!0,a=o}finally{try{s||null==r.return||r.return()}finally{if(l)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=function(){var e,t,r,a=f(),o=(0,l.useSession)(),c=o.data,u=(o.status,X((0,m.FV)(k),2)),d=u[0],h=u[1],v=X((0,m.FV)(S),2),y=v[0],x=v[1],p=(0,i.useState)(!1),b=p[0],j=p[1],w=(0,i.useState)(50),A=w[0],C=w[1],_=(0,i.useState)(0),I=(_[0],_[1],D()),E=function(){I?a.getMyCurrentPlayingTrack().then((function(e){var t,r;h(null===(t=e.body)||void 0===t||null===(r=t.item)||void 0===r?void 0:r.id),a.getMyCurrentPlaybackState().then((function(e){var t;x(null===(t=e.body)||void 0===t?void 0:t.is_playing)}))})):a.getMyCurrentPlayingTrack().then((function(e){var t,r;h(null===(t=e.body)||void 0===t||null===(r=t.item)||void 0===r?void 0:r.id),a.getMyCurrentPlaybackState().then((function(e){var t;x(null===(t=e.body)||void 0===t?void 0:t.is_playing)}))}))},T=function(){a.getMyCurrentPlaybackState().then((function(e){var t;(null===e||void 0===e||null===(t=e.body)||void 0===t?void 0:t.is_playing)?(a.pause(),x(!1)):(a.play(),x(!0))}))};return(0,i.useEffect)((function(){a.getAccessToken()&&!d&&(E(),C(50))}),[d,a,c]),(0,i.useEffect)((function(){}),[A]),(0,i.useCallback)(g()((function(e){a.setVolume(e).catch((function(e){}))}),250),[]),(0,n.jsxs)("div",{className:"h-24 bg-gradient-to-b from-black to-gray-900 text-white grid grid-cols-3 text-xs md:text-base px-2 md:px-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex items-center space-x-4",children:(0,n.jsx)("img",{className:"hidden md:inline h-10 w-10",src:null===(e=null===I||void 0===I?void 0:I.album.images)||void 0===e?void 0:e[0].url,alt:""})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:null===I||void 0===I?void 0:I.name}),(0,n.jsx)("p",{children:null===I||void 0===I||null===(t=I.artists)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.name})]})]}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"flex space-x-5 justify-center py-3",children:[(0,n.jsx)("p",{children:"00:00"}),(0,n.jsx)("input",{className:"lg:w-[25rem]",type:"range",value:null,onInputCapture:function(e){return a.seek(e.target.value)},min:0,max:null===I||void 0===I?void 0:I.duration_ms}),(0,n.jsx)("p",{children:N(null===I||void 0===I?void 0:I.duration_ms)})]}),(0,n.jsxs)("div",{className:"flex items-center justify-evenly",children:[(0,n.jsx)(s.aK0,{className:"button"+(b?" text-green-400":""),onClick:function(){return a.setShuffle(!b),void j(!b)}}),(0,n.jsx)(s.o03,{onClick:function(){return a.skipToPrevious()},className:"button"}),y?(0,n.jsx)(s.fpf,{onClick:function(){g()(T(),500)},className:"button w-10 h-10"}):(0,n.jsx)(s.o1U,{onClick:function(){g()(T(),500)},className:"button w-10 h-10 "}),(0,n.jsx)(s.D6v,{onClick:function(){a.skipToNext(),E()},className:"button"}),(0,n.jsx)(s.HA9,{className:"button"})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end space-x-3 pr-5 md:space-x-4",children:[(0,n.jsx)(s.MCl,{onClick:function(){A>0&&C(A-10)},className:"button w-4 h-4"}),(0,n.jsx)("input",{className:"w-16 md:w-28 lg:w-36",type:"range",value:A,onChange:function(e){return C(Number(e.target.value))},min:0,max:100}),(0,n.jsx)(s.MCl,{onClick:function(){A<100&&C(A+10)},className:"button"})]})]})},B=!0;function H(){return(0,n.jsxs)("div",{className:"bg-gray-700 h-screen overflow-hidden",children:[(0,n.jsxs)(a.default,{children:[(0,n.jsx)("title",{children:"Sp0t1fy"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("main",{className:"flex ",children:[(0,n.jsx)(p,{}),(0,n.jsx)(V,{})]}),(0,n.jsx)("div",{className:"sticky bottom-0",children:(0,n.jsx)(q,{})})]})}},4654:function(){}},function(e){e.O(0,[662,738,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);